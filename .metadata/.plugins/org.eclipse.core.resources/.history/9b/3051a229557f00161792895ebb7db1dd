import java.util.ArrayList;
import java.util.List;

public class Java {
public static void main(String[] args) {
	  List result = new ArrayList<>();

	  Map routes = new HashMap<>();

	  for(List eachRoute:redirects){
	  if(routes.containsKey(eachRoute.get(0)) || routes.containsValue(eachRoute.get(0)) || routes.containsKey(eachRoute.get(1)) || routes.containsValue(eachRoute.get(1))){
	  result.get(0).add(eachRoute.get(0));
	  result.get(0).add(eachRoute.get(1));
	  }else{
	  routes.put(eachRoute.get(0), eachRoute.get(1));
	  Set rs = new HashSet<>();
	  rs.add(eachRoute.get(0));
	  rs.add(eachRoute.get(1));
	  result.add(rs);
	  }
	  }
	  System.out.println(result);
	      
	  }

}
}
